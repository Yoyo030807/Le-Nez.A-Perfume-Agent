# Scent Alchemist | æ°”å‘³ç‚¼é‡‘æœ¯å£«

> A minimalist, high-end scent & tech journal.  playable website: https://scentalchemist.netlify.app/
> æç®€é«˜ç«¯çš„æ°”å‘³ä¸æŠ€æœ¯æ‰‹è®°ã€‚æ¸¸ç©ç½‘å€ï¼šhttps://scentalchemist.netlify.app/ ï¼ˆç”µè„‘ç«¯å¯ä»¥ï¼Œç§»åŠ¨ç«¯æ’ç‰ˆè¿˜æ²¡ä¿®æ­£ï¼‰

---

## âœ¨ é¡¹ç›®ç®€ä»‹

**Scent Alchemist** æ˜¯ä¸€ä¸ªèåˆäº†é¦™æ°”ã€æƒ…ç»ªä¸æŠ€æœ¯çš„å…¨æ ˆ Web åº”ç”¨ã€‚é€šè¿‡ AI é©±åŠ¨çš„å¯¹è¯ã€æ™ºèƒ½æˆåˆ†åˆ†æå’Œåˆ›æ„è®¾è®¡å·¥å…·ï¼Œä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„å—…è§‰ä½“éªŒã€‚

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸ›ï¸ The Salon Â· æ²™é¾™ä¼šå®¢
ä¸ **Le Nez** å…ˆç”Ÿå¯¹è¯ï¼Œé€šè¿‡ä¸‰é˜¶æ®µæƒ…æ„Ÿç–—æ„ˆæµç¨‹ï¼Œå®šåˆ¶ä½ çš„å—…è§‰è®°å¿†ã€‚

- **æƒ…æ„Ÿæ¢ç´¢**ï¼šæ·±å…¥æŒ–æ˜ç”¨æˆ·æ•…äº‹ä¸æƒ…ç»ª
- **é¦™å‹å‘ç°**ï¼šäº†è§£æ—¥å¸¸ç”Ÿæ´»ä¸­çš„å—…è§‰åå¥½
- **æ–¹æ¡ˆå®šåˆ¶**ï¼šæä¾›æ¦‚å¿µé…æ–¹æˆ–çœŸå®é¦™æ°´æ¨è

#### ğŸ¨ The Atelier Â· é¦™æ°´ç”»å®¤
å°†æ— å½¢çš„é¦™æ°”å‡ç»“ä¸ºæœ‰å½¢çš„è®¾è®¡ã€‚

- å¯è§†åŒ–é¦™æ°´é…æ–¹åˆ›å»º
- é¦™æ°´ç“¶è®¾è®¡ç»˜åˆ¶
- é…æ–¹ç®¡ç†ä¸å¯¼å‡º

#### ğŸ§ª The Lab Â· æˆåˆ†å®éªŒå®¤
è§£æé¦™æ°´æˆåˆ†ä¸å®‰å…¨æ•°æ®ï¼Œä½¿ç”¨ **RAG (Retrieval-Augmented Generation)** æŠ€æœ¯ã€‚

- **æ™ºèƒ½åˆ«åè§£æ**ï¼šè‡ªåŠ¨è¯†åˆ«ä¸­æ–‡è¯‘åã€æ˜µç§°
- **å…¨ç½‘æœç´¢**ï¼šåŸºäº Tavily çš„å®æ—¶æ•°æ®æ£€ç´¢
- **æˆåˆ†åˆ†æ**ï¼šé¦™è°ƒé›·è¾¾å›¾ã€å‰ä¸­åè°ƒã€è‡´æ•æºæ£€æµ‹
- **å‚è€ƒä¿¡æº**ï¼šæä¾›åŸå§‹æ•°æ®æ¥æºé“¾æ¥

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **VitePress** - é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
- **Vue 3** (Composition API) - å“åº”å¼æ¡†æ¶
- **Chart.js** - æ•°æ®å¯è§†åŒ–ï¼ˆé›·è¾¾å›¾ï¼‰
- **TypeScript** - ç±»å‹å®‰å…¨

### åç«¯
- **FastAPI** - é«˜æ€§èƒ½ Python Web æ¡†æ¶
- **DeepSeek LLM** - å¤§è¯­è¨€æ¨¡å‹ï¼ˆæ”¯æŒ OpenAI å…¼å®¹ APIï¼‰
- **Tavily Search** - å®æ—¶ç½‘ç»œæœç´¢
- **Pydantic** - æ•°æ®éªŒè¯

### RAG æµç¨‹
1. **æ™ºèƒ½åˆ«åè§£æ**ï¼šLLM å°†ç”¨æˆ·è¾“å…¥è½¬æ¢ä¸ºå®˜æ–¹é¦™æ°´åç§°
2. **å…¨ç½‘æœç´¢**ï¼šTavily æœç´¢è‹±æ–‡èµ„æ–™ï¼ˆFragranticaã€Parfumoã€Basenotes ç­‰ï¼‰
3. **æ™ºèƒ½éªŒè¯**ï¼šLLM æå–æ•°æ®å¹¶ç¿»è¯‘å›ä¸­æ–‡

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
LeNez_v2/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.py              # FastAPI ä¸»æœåŠ¡
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”‚   â”œâ”€â”€ conversations/         # å¯¹è¯è®°å½•å­˜å‚¨
â”‚   â””â”€â”€ recipes/               # é…æ–¹å­˜å‚¨
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ docs/
â”‚   â”‚   â”œâ”€â”€ index.md           # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ chat.md            # The Salon
â”‚   â”‚   â”œâ”€â”€ atelier.md         # The Atelier
â”‚   â”‚   â”œâ”€â”€ lab.md             # The Lab
â”‚   â”‚   â””â”€â”€ .vitepress/
â”‚   â”‚       â”œâ”€â”€ config.mts     # VitePress é…ç½®
â”‚   â”‚       â””â”€â”€ theme/
â”‚   â”‚           â”œâ”€â”€ index.ts   # ä¸»é¢˜å…¥å£
â”‚   â”‚           â”œâ”€â”€ Layout.vue # å¸ƒå±€ç»„ä»¶ï¼ˆå«é¡µè„šï¼‰
â”‚   â”‚           â”œâ”€â”€ styles.css # å…¨å±€æ ·å¼
â”‚   â”‚           â””â”€â”€ components/
â”‚   â”‚               â”œâ”€â”€ PerfumeChat.vue  # èŠå¤©ç»„ä»¶
â”‚   â”‚               â”œâ”€â”€ Atelier.vue     # ç”»å®¤ç»„ä»¶
â”‚   â”‚               â”œâ”€â”€ Lab.vue         # å®éªŒå®¤ç»„ä»¶
â”‚   â”‚               â””â”€â”€ LandingPage.vue # é¦–é¡µç»„ä»¶
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python** 3.11+
- **Node.js** 18+
- **npm** æˆ– **yarn**

### åç«¯è®¾ç½®

#### 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
cd backend
python3 -m venv venv

# macOS / Linux
source venv/bin/activate

# Windows
venv\Scripts\activate
```

#### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# LLM é…ç½®ï¼ˆDeepSeek æˆ– OpenAI å…¼å®¹ APIï¼‰
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=https://api.deepseek.com/v1
LLM_MODEL_ID=deepseek-v3.2

# Tavily æœç´¢ APIï¼ˆå¯é€‰ï¼Œç”¨äº The Labï¼‰
TAVILY_API_KEY=your_tavily_api_key_here
```

#### 4. å¯åŠ¨åç«¯æœåŠ¡

```bash
uvicorn server:app --reload --host 0.0.0.0 --port 8001
```

åç«¯æœåŠ¡è¿è¡Œåœ¨ï¼š`http://localhost:8001`

### å‰ç«¯è®¾ç½®

#### 1. å®‰è£…ä¾èµ–

```bash
cd frontend
npm install
```

#### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run docs:dev
```

å‰ç«¯æœåŠ¡è¿è¡Œåœ¨ï¼š`http://localhost:5174`

#### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run docs:build
npm run docs:preview
```

---

## ğŸ“¡ API æ–‡æ¡£

### æ ¸å¿ƒæ¥å£

#### `POST /api/chat`
ä¸ Le Nez å…ˆç”Ÿå¯¹è¯ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "messages": [
    { "role": "user", "content": "æˆ‘ä»Šå¤©å¿ƒæƒ…ä¸å¤ªå¥½" }
  ],
  "locale": "zh",
  "conversation_id": "optional_conversation_id",
  "user_name": "optional_user_name"
}
```

**å“åº”ï¼š** æµå¼è¿”å›å¯¹è¯å†…å®¹

---

#### `POST /api/analyze_scent`
åˆ†æé¦™æ°´æˆåˆ†ï¼ˆRAG æµç¨‹ï¼‰ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "name": "è·¯æ˜“å¨ç™» é›·æš´"
}
```

**å“åº”ï¼š**
```json
{
  "found": true,
  "brand": "Louis Vuitton",
  "name": "Orage / é›·æš´",
  "radar_data": {
    "Floral": 3,
    "Woody": 7,
    "Fresh": 8,
    "Spicy": 2,
    "Sweet": 1,
    "Oriental": 4
  },
  "notes": {
    "top": "ä½›æ‰‹æŸ‘ã€é»‘é†‹æ —",
    "middle": "é¸¢å°¾ã€èŒ‰è‰",
    "base": "é›ªæ¾ã€ç™½éºé¦™"
  },
  "allergens": ["Limonene", "Linalool"],
  "longevity": "æŒä¹… 8h+",
  "safety_brief": "å®‰å…¨ç®€è¯„",
  "reference_urls": ["https://..."]
}
```

---

#### `POST /api/create_recipe`
åˆ›å»ºé¦™æ°´é…æ–¹ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "name": "é…æ–¹åç§°",
  "description": "é…æ–¹æè¿°",
  "notes": {
    "top": ["å‰è°ƒ1", "å‰è°ƒ2"],
    "middle": ["ä¸­è°ƒ1", "ä¸­è°ƒ2"],
    "base": ["åè°ƒ1", "åè°ƒ2"]
  }
}
```

---

#### `POST /api/draw_bottle`
ç»˜åˆ¶é¦™æ°´ç“¶è®¾è®¡ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "prompt": "æè¿°é¦™æ°´ç“¶çš„è®¾è®¡",
  "style": "modern"
}
```

---

### å…¶ä»–æ¥å£

- `GET /api/health` - å¥åº·æ£€æŸ¥
- `GET /api/conversations` - è·å–å¯¹è¯åˆ—è¡¨
- `GET /api/conversations/{id}` - è·å–ç‰¹å®šå¯¹è¯
- `GET /api/recipes` - è·å–é…æ–¹åˆ—è¡¨
- `GET /api/recipes/{id}` - è·å–ç‰¹å®šé…æ–¹
- `POST /api/extract_recipe` - ä»å¯¹è¯ä¸­æå–é…æ–¹

---

## ğŸ¨ è®¾è®¡ç†å¿µ

### è§†è§‰é£æ ¼
- **æç®€ä¸»ä¹‰**ï¼šå¤§é‡ç•™ç™½ï¼Œå…‹åˆ¶è€Œä¼˜é›…
- **æŸ”å’Œè‰²è°ƒ**ï¼šç±³ç™½è‰²èƒŒæ™¯ã€é¼ å°¾è‰ç»¿ã€çƒŸç†ç«ç‘°
- **ç»ç’ƒæ€è®¾è®¡**ï¼šæ¯›ç»ç’ƒæ•ˆæœï¼ˆbackdrop-filterï¼‰
- **ç­‰å®½å­—ä½“**ï¼šæŠ€æœ¯æ„Ÿä¸è‰ºæœ¯æ„Ÿçš„å¹³è¡¡

### äº¤äº’è®¾è®¡
- **æ¸è¿›å¼å¯¹è¯**ï¼šä¸‰é˜¶æ®µæƒ…æ„Ÿç–—æ„ˆæµç¨‹
- **å®æ—¶åé¦ˆ**ï¼šæµå¼å“åº”ï¼Œå³æ—¶æ˜¾ç¤º
- **å†å²è®°å½•**ï¼šæœ¬åœ°å­˜å‚¨å¯¹è¯ä¸é…æ–¹
- **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…æ¡Œé¢ä¸ç§»åŠ¨ç«¯

---

## ğŸ”§ å¼€å‘è¯´æ˜

### å‰ç«¯å¼€å‘

ç»„ä»¶ä½äº `frontend/docs/.vitepress/theme/components/`ï¼š

- **PerfumeChat.vue** - èŠå¤©ç•Œé¢ï¼Œæ”¯æŒæµå¼å“åº”
- **Atelier.vue** - é…æ–¹åˆ›å»ºä¸å¯è§†åŒ–
- **Lab.vue** - æˆåˆ†åˆ†æï¼Œé›†æˆ Chart.js é›·è¾¾å›¾
- **LandingPage.vue** - é¦–é¡µå¯¼èˆªå¡ç‰‡

### åç«¯å¼€å‘

ä¸»è¦æ–‡ä»¶ï¼š`backend/server.py`

- **RAG æµç¨‹**ï¼š`get_official_name()` â†’ Tavily æœç´¢ â†’ LLM éªŒè¯
- **å¯¹è¯ç®¡ç†**ï¼šæœ¬åœ° JSON æ–‡ä»¶å­˜å‚¨
- **æµå¼å“åº”**ï¼šä½¿ç”¨ FastAPI `StreamingResponse`

---

## ğŸ“ ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| `OPENAI_API_KEY` | LLM API å¯†é’¥ | âœ… |
| `OPENAI_BASE_URL` | LLM API åŸºç¡€ URL | âœ… |
| `LLM_MODEL_ID` | æ¨¡å‹ IDï¼ˆé»˜è®¤ï¼šdeepseek-v3.2ï¼‰ | âŒ |
| `TAVILY_API_KEY` | Tavily æœç´¢ API å¯†é’¥ | âŒï¼ˆThe Lab åŠŸèƒ½éœ€è¦ï¼‰ |

---

## ğŸ› æ•…éšœæ’é™¤

### åç«¯å¯åŠ¨å¤±è´¥
- æ£€æŸ¥ `.env` æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”é…ç½®æ­£ç¡®
- ç¡®è®¤è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
- æ£€æŸ¥ç«¯å£ 8001 æ˜¯å¦è¢«å ç”¨

### å‰ç«¯æ— æ³•è¿æ¥åç«¯
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥ `frontend/docs/.vitepress/theme/components/` ä¸­çš„ API åœ°å€
- ç¡®è®¤ CORS é…ç½®æ­£ç¡®

### The Lab æœç´¢å¤±è´¥
- æ£€æŸ¥ `TAVILY_API_KEY` æ˜¯å¦é…ç½®
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- æŸ¥çœ‹åç«¯æ—¥å¿—äº†è§£è¯¦ç»†é”™è¯¯

---

## ğŸ“„ è®¸å¯è¯

MIT License

Copyright (c) 2025 Yaoyao YU

---

## ğŸ‘¤ ä½œè€…

**Yaoyao YU**

- GitHub: [@Yoyo030807](https://github.com/Yoyo030807)
- é¡¹ç›®åœ°å€: [Le-Nez.A-Perfume-Agent](https://github.com/Yoyo030807/Le-Nez.A-Perfume-Agent)

---

## ğŸ™ è‡´è°¢

- **VitePress** - ä¼˜ç§€çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨
- **FastAPI** - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- **DeepSeek** - å¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹
- **Tavily** - å®æ—¶ç½‘ç»œæœç´¢æœåŠ¡

---

**Designed & Coded with â¤ï¸ by Yaoyao YU Â© 2025**
